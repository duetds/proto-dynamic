{"version":3,"file":"proto-dynamic-hero.js","sourceRoot":"","sources":["../../src/hero/proto-dynamic-hero.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, LitElement, nothing } from \"lit\"\nimport { customElement, property } from \"lit/decorators.js\"\nimport { getLinkUrl, isUrlExternal } from \"../utils/helper-functions\"\n\ninterface SysContentType {\n  sys: { id: string }\n}\n\ninterface Sys {\n  sys: { contentType: SysContentType }\n}\n\nexport interface ButtonResource extends Sys {\n  fields: {\n    key: string\n    text?: string\n    icon?: string\n    iconColor?: string\n    url?: string\n    variation?: string\n  }\n}\n\ninterface LinkContent {\n  fields?: {\n    icon?: string\n    key?: string\n    text?: string\n    url?: string\n  }\n}\n\ninterface ContentResource extends Sys {\n  fields: {\n    key?: string\n    linkIconColorVariation?: string\n    linkVariation?: string\n    content?: LinkContent[]\n  }\n}\n\ninterface HeroFields {\n  heading?: { value: string }\n  intro?: { content: { content: { value: string }[] }[] }\n  content?: ContentResource[]\n  buttons?: ButtonResource[]\n  icon?: string\n}\n\nexport interface HeroItem {\n  fields?: HeroFields\n}\n\nexport interface ProtoButtonHandler {\n  buttonId: string\n  url?: string\n  clickHandler?: () => void\n}\n\n@customElement(\"proto-dynamic-hero\")\nexport class ProtoDynamicHero extends LitElement {\n  @property({ type: Array }) props?: HeroItem[]\n  @property({ type: Array }) protoButtonHandlers?: ProtoButtonHandler[] // Button URLs are only for proto use\n  @property({ type: Boolean }) isParentLarge = false\n  @property({ type: Boolean }) isLargeScreen = false\n\n  private _mediaQuery?: MediaQueryList\n\n  override connectedCallback() {\n    super.connectedCallback()\n\n    const parentGrid = this.closest(\"duet-grid\")\n    const gridTemplate = parentGrid?.getAttribute(\"grid-template\")\n\n    if (gridTemplate === \"large\") {\n      this.isParentLarge = true\n      this._mediaQuery = window.matchMedia(\"(min-width: 1220px)\")\n      this.isLargeScreen = this._mediaQuery.matches\n      this._mediaQuery.addEventListener(\"change\", this._onMediaChange)\n    }\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback()\n    this._mediaQuery?.removeEventListener(\"change\", this._onMediaChange)\n  }\n\n  private _onMediaChange = (event: MediaQueryListEvent) => {\n    this.isLargeScreen = event.matches\n  }\n\n  override render() {\n    const fields = this.props?.[0]?.fields\n    const { heading, intro, buttons, icon } = fields ?? {}\n    const subTitleText = intro?.content?.[0]?.content?.[0]?.value ?? \"\"\n\n    return html`\n      <duet-page-heading icon=${icon ?? nothing} layout=\"auto\">\n        ${\n          heading &&\n          html`\n          <duet-heading level=\"h1\" slot=\"heading\" margin=\"none\">${heading}</duet-heading>`\n        }\n      </duet-page-heading>\n\n      <duet-grid grid-template=${this.isParentLarge && this.isLargeScreen ? \"sidebar-right\" : nothing}>\n        ${\n          subTitleText &&\n          html`\n            <duet-paragraph>\n              ${subTitleText}\n              <duet-spacer size=\"large\"></duet-spacer>\n            </duet-paragraph>`\n        }\n\n        <div slot=\"main\">\n          <!-- Custom content -->\n          <slot></slot>\n        </div>\n      </duet-grid>\n\n      <!-- Buttons -->\n      ${\n        buttons?.length\n          ? html`\n          <duet-grid grid-template=\"button-grid\"  id=\"dynamichero_buttons\">\n            ${buttons.map(\n              ({ fields }) => html`\n              <duet-link\n                id=${fields.key ?? nothing}\n                icon=${fields.icon ?? nothing}\n                url=${getLinkUrl({ fields }, this.protoButtonHandlers)}\n                variation=\"button\"\n                external=${isUrlExternal(fields.url)}\n              >\n                ${fields.text ?? \"\"}\n              </duet-link>\n            `\n            )}\n          </duet-grid>\n        `\n          : nothing\n      }\n\n      <duet-spacer size=\"x-large\"></duet-spacer>\n    `\n  }\n}\n"]}