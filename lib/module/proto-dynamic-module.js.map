{"version":3,"file":"proto-dynamic-module.js","sourceRoot":"","sources":["../../src/module/proto-dynamic-module.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,KAAK,CAAA;AACpD,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAA;AA2BpD,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,UAAU;IAUvC,MAAM;QACb,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAA;QACtC,MAAM,OAAO,GAAG,MAAM,EAAE,OAAO,CAAA;QAE/B,SAAS,eAAe;YACtB,IAAI,CAAC,OAAO,EAAE,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC;gBAAE,OAAO,OAAO,CAAA;YAC5D,OAAO,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,eAAe,CAAA;QAC/D,CAAC;QAED,SAAS,YAAY,CAAC,IAAiB,EAAE,mBAA0C;YACjF,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAA;YACvC,QAAQ,EAAE,EAAE,CAAC;gBACX,KAAK,WAAW;oBACd,OAAO,IAAI,CAAA;mCACc,mBAAmB;qBACjC,IAAI;qCACY,CAAA;gBAC7B,KAAK,cAAc;oBACjB,OAAO,IAAI,CAAA;mCACc,mBAAmB;qBACjC,IAAI;iCACQ,CAAA;gBACzB;oBACE,OAAO,OAAO,CAAA;YAClB,CAAC;QACH,CAAC;QAED,OAAO,OAAO,EAAE,MAAM;YACpB,CAAC,CAAC,IAAI,CAAA;sDAC0C,eAAe,EAAE;YAC3D,OAAO,CAAC,GAAG,CACX,IAAI,CAAC,EAAE,CAAC,IAAI,CAAA;;gBAER,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,mBAAmB,CAAC;;WAEjD,CACA;;OAEJ;YACD,CAAC,CAAC,OAAO,CAAA;IACb,CAAC;;AA9Ce,yBAAM,GAAG,GAAG,CAAA;;;;GAI3B,AAJqB,CAIrB;AAP0B;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;iDAAsB;AACrB;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;+DAA2C;AAF1D,kBAAkB;IAD9B,aAAa,CAAC,sBAAsB,CAAC;GACzB,kBAAkB,CAmD9B","sourcesContent":["import { css, html, LitElement, nothing } from \"lit\"\nimport { customElement, property } from \"lit/decorators.js\"\nimport type { ProtoButtonHandler } from \"../hero/proto-dynamic-hero\"\n\ninterface ModuleProps {\n  fields: HighlightFields\n}\n\ninterface HighlightFields {\n  key: string\n  content?: ActionEntry[]\n}\n\ninterface ActionEntry {\n  fields: {\n    key: string\n    text?: string\n    url?: string\n    icon?: string\n  }\n  sys: {\n    contentType: {\n      sys: { id: string }\n    }\n  }\n}\n\n@customElement(\"proto-dynamic-module\")\nexport class ProtoDynamicModule extends LitElement {\n  @property({ type: Array }) props?: ModuleProps[]\n  @property({ type: Array }) protoButtonHandlers?: ProtoButtonHandler[] // Button URLs are only for proto use\n\n  static override styles = css`\n   .no-padding {\n       padding: 0;\n   }\n  `\n\n  override render() {\n    const fields = this.props?.[0]?.fields\n    const content = fields?.content\n\n    function getGridTemplate() {\n      if (!content?.length || content.length === 1) return nothing\n      return content.length === 2 ? \"two-columns\" : \"three-columns\"\n    }\n\n    function getComponent(item: ActionEntry, protoButtonHandlers?: ProtoButtonHandler[]) {\n      const { id } = item.sys.contentType.sys\n      switch (id) {\n        case \"highlight\":\n          return html`<proto-dynamic-highlight\n            .protoButtonHandlers=${protoButtonHandlers}\n            .props=${item}>\n          </proto-dynamic-highlight>`\n        case \"dynamicGroup\":\n          return html`<proto-dynamic-group\n            .protoButtonHandlers=${protoButtonHandlers}\n            .props=${item}>\n          </proto-dynamic-group>`\n        default:\n          return nothing\n      }\n    }\n\n    return content?.length\n      ? html`\n        <duet-grid class=\"no-padding\" grid-template=${getGridTemplate()}>\n          ${content.map(\n            item => html`\n            <duet-grid-item fill>\n              ${getComponent(item, this.protoButtonHandlers)}\n            </duet-grid-item>\n          `\n          )}\n        </duet-grid>\n      `\n      : nothing\n  }\n}\n"]}