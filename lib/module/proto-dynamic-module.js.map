{"version":3,"file":"proto-dynamic-module.js","sourceRoot":"","sources":["../../src/module/proto-dynamic-module.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,KAAK,CAAA;AACpD,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAA;AAC3D,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAA;AAE1D,OAAO,EAAE,eAAe,EAAE,MAAM,2BAA2B,CAAA;AA4BpD,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,UAAU;IAWvC,MAAM;QACb,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAA;QACtC,MAAM,OAAO,GAAG,MAAM,EAAE,OAAO,IAAI,EAAE,CAAA;QAErC,SAAS,YAAY,CAAC,IAAiB,EAAE,mBAA0C;YACjF,MAAM,MAAM,GAAG,eAAe,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC,CAAA;YACrE,OAAO,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;QAC5D,CAAC;QAED,8DAA8D;QAC9D,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,CAAA;QAChD,MAAM,SAAS,GAAG,iCAAiC,OAAO,SAAS,CAAA;QAEnE,OAAO,OAAO,CAAC,MAAM;YACnB,CAAC,CAAC,IAAI,CAAA;yCAC6B,SAAS;YACtC,OAAO,CAAC,GAAG,CACX,IAAI,CAAC,EAAE,CAAC,IAAI,CAAA;;kBAEN,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,mBAAmB,CAAC;;aAEjD,CACF;;OAEJ;YACD,CAAC,CAAC,OAAO,CAAA;IACb,CAAC;;AAjCe,yBAAM,GAAG,GAAG,CAAA;;;;;GAK3B,AALqB,CAKrB;AAR0B;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;iDAAsB;AACrB;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;+DAA2C;AAF1D,kBAAkB;IAD9B,aAAa,CAAC,sBAAsB,CAAC;GACzB,kBAAkB,CAsC9B","sourcesContent":["import { css, html, LitElement, nothing } from \"lit\"\nimport { customElement, property } from \"lit/decorators.js\"\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\"\nimport type { ProtoButtonHandler } from \"../hero/proto-dynamic-hero\"\nimport { renderComponent } from \"../utils/helper-functions\"\n\ninterface ModuleProps {\n  fields: HighlightFields\n}\n\ninterface HighlightFields {\n  key: string\n  content?: ActionEntry[]\n}\n\nexport interface ActionEntry {\n  fields: {\n    key: string\n    text?: string\n    url: string\n    icon?: string\n    heading?: string | undefined\n    items?: [] | undefined\n  }\n  sys: {\n    contentType: {\n      sys: { id: string }\n    }\n  }\n}\n\n@customElement(\"proto-dynamic-module\")\nexport class ProtoDynamicModule extends LitElement {\n  @property({ type: Array }) props?: ModuleProps[]\n  @property({ type: Array }) protoButtonHandlers?: ProtoButtonHandler[]\n\n  static override styles = css`\n    .module-grid {\n      display: grid;\n      gap: var(--space-medium);\n    }\n  `\n\n  override render() {\n    const fields = this.props?.[0]?.fields\n    const content = fields?.content || []\n\n    function getComponent(item: ActionEntry, protoButtonHandlers?: ProtoButtonHandler[]) {\n      const result = renderComponent({ target: item, protoButtonHandlers })\n      return result === \"default\" ? nothing : unsafeHTML(result)\n    }\n\n    // Determine number of columns: max 3, based on content length\n    const columns = Math.min(content.length, 3) || 1\n    const gridStyle = `grid-template-columns: repeat(${columns}, 1fr);`\n\n    return content.length\n      ? html`\n        <div class=\"module-grid\" style=${gridStyle}>\n          ${content.map(\n            item => html`\n              <div>\n                ${getComponent(item, this.protoButtonHandlers)}\n              </div>\n            `\n          )}\n        </div>\n      `\n      : nothing\n  }\n}\n"]}